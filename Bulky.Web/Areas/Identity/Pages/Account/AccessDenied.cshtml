@page
@model AccessDeniedModel
@{
    ViewData["Title"] = "Access Denied";
    var isAuthenticated = User.Identity?.IsAuthenticated ?? false;
}

<section class="status-section denied py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-7">
                <div class="status-card card border-0 shadow-sm text-center p-4 p-md-5">
                    <div class="status-icon mx-auto mb-3">
                        <i class="bi bi-shield-lock"></i>
                    </div>

                    <h1 class="h3 mb-2">Access Denied</h1>

                    <p class="text-muted mb-4">
                        @if (isAuthenticated)
                        {
                            @:You do not have permission to access this resource.
                        }
                        else
                        {
                            @:You need to log in to access this page.
                        }
                    </p>

                    <div class="status-actions d-flex flex-wrap gap-2 justify-content-center">
                        <a asp-area="Customer" asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary">
                            <i class="bi bi-house"></i> Back to Home
                        </a>

                        @if (!isAuthenticated)
                        {
                            <a asp-page="/Account/Login" class="btn btn-primary">
                                <i class="bi bi-box-arrow-in-right"></i> Go to Login
                            </a>
                        }
                    </div>

                    @if (isAuthenticated && User.IsInRole("Admin"))
                    {
                        <div class="mt-3 small text-muted">
                            You might want to review your permissions in the admin panel.
                        </div>
                    }

                    <div class="mt-4 small text-muted">
                        If you believe this is a mistake, please contact support or try again later.
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
